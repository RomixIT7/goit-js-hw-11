{"version":3,"file":"commonHelpers.js","sources":["../src/img/error-icon.svg","../src/img/close_icon.svg","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__09c89fb5__\"","export default \"__VITE_ASSET__f9943989__\"","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport errorIcon from './img/error-icon.svg';\nimport closeIcon from './img/close_icon.svg';\n\nconst input = document.querySelector('.search-input');\nconst form = document.querySelector('.search-form');\nconst imagesList = document.querySelector('.images-list');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', onBtnClick);\n\nfunction onBtnClick(e) {\n  e.preventDefault();\n  imagesList.innerHTML = '';\n  showLoader();\n  const value = input.value.trim();\n  if (value === '') return;\n  getInfo(value)\n    .then(data => renderMarkup(data))\n    .catch(error => console.log(error));\n  form.reset();\n}\n\nfunction getInfo(value) {\n  const { key, q, image_type, orientation, safesearch } = {\n    key: '42394910-99d99ece52e00ce85305c6646',\n    q: value,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n  const BASE_URL = 'https://pixabay.com/api/';\n  const PARAMS = `?key=${key}&q=${q}&image_type=${image_type}&orientation=${orientation}&safesearch=${safesearch}`;\n  const url = BASE_URL + PARAMS;\n  return fetch(url)\n    .then(response => response.json())\n    .catch(error => console.log(error));\n}\n\nfunction renderMarkup({ hits }) {\n  if (hits.length === 0) {\n    iziToast.show({\n      message:\n        'Sorry, there are no images matching<br/> your search query. Please try again!',\n      messageColor: '#fff',\n      messageSize: '16',\n      messageLineHeight: '24',\n      backgroundColor: '#ef4040',\n      progressBarColor: '#b51b1b',\n      position: 'topRight',\n      iconUrl: errorIcon,\n      close: false,\n      buttons: [\n        [\n          `<button type=\"submit\" style=\"background-color: inherit\"><img src=\"${closeIcon}\"/></button>`,\n          function (instance, toast) {\n            instance.hide(\n              {\n                transitionOut: 'fadeOut',\n              },\n              toast\n            );\n          },\n        ],\n      ],\n    });\n    return;\n  }\n  const markup = hits\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `<li class='gallery-item'><a class='gallery-link' href='${largeImageURL}'><img class='gallery-image' src='${webformatURL}' alt='${tags}'/></a>\n      <div class='info-box'>\n          <p>Likes <span>${likes}</span></p>\n          <p>Views <span>${views}</span></p>\n          <p>Comments <span>${comments}</span></p>\n          <p>Downloads <span>${downloads}</span></p>\n      </div></li>`\n    )\n    .join('');\n  imagesList.innerHTML = markup;\n  hideLoader();\n  const lightbox = new SimpleLightbox('.images-list a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n  lightbox.refresh();\n}\n\nfunction showLoader() {\n  loader.classList.remove('hidden');\n}\nfunction hideLoader() {\n  loader.classList.add('hidden');\n}\n"],"names":["errorIcon","closeIcon","input","form","imagesList","loader","onBtnClick","e","showLoader","value","getInfo","data","renderMarkup","error","key","q","image_type","orientation","safesearch","BASE_URL","PARAMS","url","response","hits","iziToast","instance","toast","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","hideLoader","SimpleLightbox"],"mappings":"6vBAAA,MAAeA,EAAA,gDCAAC,EAAA,gDCQTC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAK,iBAAiB,SAAUG,CAAU,EAE1C,SAASA,EAAWC,EAAG,CACrBA,EAAE,eAAc,EAChBH,EAAW,UAAY,GACvBI,IACA,MAAMC,EAAQP,EAAM,MAAM,KAAI,EAC1BO,IAAU,KACdC,EAAQD,CAAK,EACV,KAAKE,GAAQC,EAAaD,CAAI,CAAC,EAC/B,MAAME,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACpCV,EAAK,MAAK,EACZ,CAEA,SAASO,EAAQD,EAAO,CACtB,KAAM,CAAE,IAAAK,EAAK,EAAAC,EAAG,WAAAC,EAAY,YAAAC,EAAa,WAAAC,CAAU,EAAK,CACtD,IAAK,qCACL,EAAGT,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EACQU,EAAW,2BACXC,EAAS,QAAQN,CAAG,MAAMC,CAAC,eAAeC,CAAU,gBAAgBC,CAAW,eAAeC,CAAU,GACxGG,EAAMF,EAAWC,EACvB,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAYA,EAAS,MAAM,EAChC,MAAMT,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,CAEA,SAASD,EAAa,CAAE,KAAAW,GAAQ,CAC9B,GAAIA,EAAK,SAAW,EAAG,CACrBC,EAAS,KAAK,CACZ,QACE,gFACF,aAAc,OACd,YAAa,KACb,kBAAmB,KACnB,gBAAiB,UACjB,iBAAkB,UAClB,SAAU,WACV,QAASxB,EACT,MAAO,GACP,QAAS,CACP,CACE,qEAAqEC,CAAS,eAC9E,SAAUwB,EAAUC,EAAO,CACzBD,EAAS,KACP,CACE,cAAe,SAChB,EACDC,CACd,CACW,CACF,CACF,CACP,CAAK,EACD,MACD,CACD,MAAMC,EAASJ,EACZ,IACC,CAAC,CACC,aAAAK,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY,0DAA0DL,CAAa,qCAAqCD,CAAY,UAAUE,CAAI;AAAA;AAAA,2BAEvHC,CAAK;AAAA,2BACLC,CAAK;AAAA,8BACFC,CAAQ;AAAA,+BACPC,CAAS;AAAA,kBAEnC,EACA,KAAK,EAAE,EACV9B,EAAW,UAAYuB,EACvBQ,IACiB,IAAIC,EAAe,iBAAkB,CACpD,aAAc,MACd,aAAc,GAClB,CAAG,EACQ,QAAO,CAClB,CAEA,SAAS5B,GAAa,CACpBH,EAAO,UAAU,OAAO,QAAQ,CAClC,CACA,SAAS8B,GAAa,CACpB9B,EAAO,UAAU,IAAI,QAAQ,CAC/B"}